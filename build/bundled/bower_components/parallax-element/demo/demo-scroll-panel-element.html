<html><head><link rel="import" href="../../polymer/polymer.html">
<link rel="import" href="../../iron-flex-layout/classes/iron-flex-layout.html">
<link rel="import" href="../../iron-icons/iron-icons.html">
<link rel="import" href="../../paper-icon-button/paper-icon-button.html">
<link rel="import" href="../../paper-scroll-header-panel/paper-scroll-header-panel.html">
<link rel="import" href="../../paper-toolbar/paper-toolbar.html">
<link rel="import" href="../parallax-scroller-behavior.html">
<link rel="import" href="../parallax-layers.html">

</head><body><dom-module id="demo-scroll-panel-element">
  <template>
    <style>paper-scroll-header-panel{position:absolute;top:0;right:0;bottom:0;left:0;--paper-scroll-header-container:{font:200% / 1.5 Arial;display:-ms-flexbox;display:-webkit-flex;display:flex;margin:0;padding:0;-webkit-overflow-scrolling:auto;-webkit-flex-direction:column;flex-direction:column;overflow-y:auto;overflow-x:hidden;};}parallax-layers{min-height:400px;z-index:-1;}parallax-layers > .parallax-layer{background-image:url("res/doge.jpg");background-position:50% 50%;background-repeat:no-repeat;background-size:cover;color:white;}div.no-parallax{min-height:500px;z-index:0;background:white;border-style:solid;border-width:5px;border-color:black;}</style>
    
    <paper-scroll-header-panel id="headerPanel" class="flex" condenses="" keep-condensed-header="">

      
      <paper-toolbar id="mainToolbar" class="tall">
        <paper-icon-button icon="arrow-back"></paper-icon-button>
        <span class="flex"></span>
        <paper-icon-button icon="search"></paper-icon-button>
        <span class="bottom title">parallax-element</span>
      </paper-toolbar>

      
      <template is="dom-repeat" items="{{sections}}">

        <template is="dom-if" if="{{isNormalSection(item)}}">
          <div class="no-parallax layout vertical center-center">
            [[item.label]]
          </div>
        </template>

       <template is="dom-if" if="{{!isNormalSection(item)}}">
          <parallax-layers style$="{{computeSectionZindex(item)}}">
            <div depth$="[[item.depth]]" class="parallax-layer fullbleed layout vertical center-center">
              [[item.label]]
            </div>
          </parallax-layers>
        </template>

      </template>

    </paper-scroll-header-panel>

  </template>
  <script>Polymer({is:"demo-scroll-panel-element",behaviors:[Polymer.ParallaxScrollerBehavior],properties:{sections:{type:Array,value:function(){return[{label:"Normal div",depth:0},{label:"wow parallax",depth:-.3},{label:"much normal div",depth:0},{label:"yum foreground",depth:.2},{label:"so normal div",depth:0},{label:"very parallax",depth:-1},{label:"many normal div",depth:0}]}}},ready:function(){this.scroller=this.$.headerPanel.scroller},isNormalSection:function(e){return 0===e.depth},computeSectionZindex:function(e){return"z-index:"+(e.depth<=0?-1:1)+";"}});</script>
</dom-module></body></html>